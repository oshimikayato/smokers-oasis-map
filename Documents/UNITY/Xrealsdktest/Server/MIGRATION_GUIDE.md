# サーバー移行ガイド

このフォルダ（Server）を別のPCに移動して、物体検出サーバーを稼働させるための手順です。

## 1. 準備するもの
- 新しいPC（Windows推奨、NVIDIA GPU搭載だと尚良し）
- Python 3.8以上がインストールされていること

## 2. セットアップ手順

1. **フォルダのコピー**
   この `Server` フォルダごと、新しいPCの任意の場所（デスクトップなど）にコピーします。

2. **コマンドプロンプトを開く**
   コピーした `Server` フォルダの中で、アドレスバーに `cmd` と入力してEnterキーを押し、コマンドプロンプトを開きます。

3. **ライブラリのインストール**
   以下のコマンドを実行して、必要なAIライブラリを一括インストールします。
   ```bash
   pip install -r requirements.txt
   ```
   ※ エラーが出る場合は、Pythonが正しくインストールされているか確認してください。

## 3. サーバーの起動

以下のコマンドでサーバーを起動します。
```bash
python server.py
```

起動に成功すると、以下のようなログが表示されます。
```
 * Running on https://192.168.X.X:5000
```
この `192.168.X.X` の部分が、新しいPCのIPアドレスです。

## 4. Unity側の設定変更（重要）

サーバーのPCが変わると、IPアドレスも変わります。
Unityプロジェクトの `Assets/Scripts/ImageUploader.cs` を開き、以下の部分を新しいIPアドレスに書き換えてください。

```csharp
// 例: 新しいIPが 192.168.1.50 の場合
public string serverUrl = "https://192.168.1.50:5000/search";
```
※ `Start()` メソッド内にも同様の記述がある場合は、そちらも更新してください。

書き換え後、Unityでアプリをビルドして実機（Beam Pro）に入れ直せば完了です。

## 5. トラブルシューティング

- **スマホから繋がらない場合**:
  - 新しいPCの「ファイアウォール設定」を確認し、ポート **5000** の通信を許可してください。
  - PCとスマホが同じWi-Fiネットワークに繋がっているか確認してください。
